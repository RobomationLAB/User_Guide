# 대시보드 열기
**대시보드 열기** 는 블록 코딩에 사용할 수 있는 블록은 아니지만,  
확장 모듈에서 사용되는 모델이 어떠한 방식으로 적용되는지 확인하는 대시보드를 열 수 있습니다.

## 대시보드 화면
대시보드 열기 클릭 시 다음과 같은 화면을 볼 수 있습니다.


![](https://github.com/user-attachments/assets/2d333481-8086-4fe8-a059-b831d6140c6a)


## 세부 버튼

### Power
선택한 카메라를 키거나 끕니다.

### Load Model 
학습된 상세하게 얼굴 찾기 모델을 불러옵니다. '상세하게 얼굴 찾기' 확장 모듈을 사용하기 위해서 반드시 필요한 작업입니다.

### Detect
상세하게 얼굴 찾기를 실행하거나 멈춥니다.  
Once 버튼으로 한번만 실행할 지, Continuous 버튼으로 연속으로 실행할 지 정할 수 있습니다.  
또한, Stop 버튼을 통해 찾기를 멈출 수 있습니다.

### Show Result
상세하게 얼굴 찾기 결과를 카메라 화면 상으로 출력합니다.

### Sensory Data
얼굴 찾기에서 찾은 얼굴 데이터 값을 출력합니다.  
선택한 얼굴 부위의 x,y 좌표를 확인할 수 있습니다. 

#### 드롭다운 옵션 및 입력값
| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
| part | 드롭다운 옵션 | 얼굴 부위 | face, left eye, right eye, left pupil, right pupil, nose, mouth, left lip, right lip, upper lip, lower lip |

<br>

# 블록
## 카메라 정하기
상세하게 얼굴 찾기 모듈에 사용할 카메라를 선택합니다.


![](https://github.com/user-attachments/assets/0d1db01b-bc20-4fd9-b02e-2c771db71bbc)


### 드롭다운 옵션 및 입력값
| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
|camera|드롭다운 옵션|사용할 카메라|연결한 카메라 리스트|

### 자바스크립트 코드
```javascript
// 특정 카메라를 상세하게 얼굴찾기를 위한 카메라로 정하기 (id는 예시)
$('DetailedFaceDetection*0:camera.deviceId').d = '035658da47183882a695a82c45b8f3e9ae50cef47945ccdc3f31e1ae1fbca9cb';
```

### 파이썬 코드
```python
# 특정 카메라를 상세하게 얼굴찾기를 위한 카메라로 정하기 (id는 예시)
__('DetailedFaceDetection*0:camera.deviceId').d = '035658da47183882a695a82c45b8f3e9ae50cef47945ccdc3f31e1ae1fbca9cb'
```


## 얼굴 모델 불러오기
학습된 얼굴 모델을 불러옵니다. '상세하게 얼굴 찾기' 모듈의 기능들을 사용하기 위해서는 이 작업이 반드시 필요합니다.  
기다리기를 체크하면, 모델 불러오기가 완료될 때까지 기다립니다.  
단, 기다리기를 체크한 경우에는 async 함수 내에서만 사용할 수 있습니다.

![](https://github.com/user-attachments/assets/d7160b65-75be-4950-9ef6-7f7afe202a57)


### 자바스크립트 코드
```javascript
// 얼굴 모델 불러오기 | 기다리기 O
$('DetailedFaceDetection*0:load_model').d = 1;
await $('DetailedFaceDetection*0:!load_model').w();

// 얼굴 모델 불러오기 | 기다리기 X
$('DetailedFaceDetection*0:load_model').d = 1;
```

### 파이썬 코드
```python
# 얼굴 모델 불러오기 | 기다리기 O
__('DetailedFaceDetection*0:load_model').d = 1
await __('DetailedFaceDetection*0:!load_model').w()

# 얼굴 모델 불러오기 | 기다리기 X
__('DetailedFaceDetection*0:load_model').d = 1
```

## 얼굴 한 번 찾기
현재 화면에 있는 얼굴을 찾아 딱 한번 표시합니다.

![](https://github.com/user-attachments/assets/7f55498b-21db-44a8-9c0d-4e23f2a00fce)


### 자바스크립트 코드
```javascript
// 얼굴 한 번 찾기
$('DetailedFaceDetection*0:detect.once').d = 1;
```

### 파이썬 코드
```python
# 얼굴 한 번 찾기
__('DetailedFaceDetection*0:detect.once').d = 1
```

## 얼굴 연속으로 찾기
얼굴 연속으로 찾기를 시작하거나 중지합니다.  
얼굴 연속으로 찾기를 시작하면, 현재 화면에 있는 얼굴을 계속 따라가며 화면상에 표시합니다.

![](https://github.com/user-attachments/assets/a5f85a0d-f836-4aae-b9a1-916d73b97160)


### 드롭다운 옵션 및 입력값
| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
|toggle|드롭다운 옵션|얼굴 찾기|시작하기(1), 중지하기(0)|

### 자바스크립트 코드
```javascript
// 연속으로 얼굴 찾기 시작하기
$('DetailedFaceDetection*0:detect.continuous').d = 1;

// 연속으로 얼굴 찾기 중지하기
$('DetailedFaceDetection*0:detect.continuous').d = 0;
```

### 파이썬 코드
```python
# 연속으로 얼굴 찾기 시작하기
__('DetailedFaceDetection*0:detect.continuous').d = 1

# 연속으로 얼굴 찾기 중지하기
__('DetailedFaceDetection*0:detect.continuous').d = 0
```

## 상세하게 얼굴찾기 결과 보이기
카메라 화면에 상세하게 얼굴 찾기 결과를 표시할지 말지를 결정합니다.

![](https://github.com/user-attachments/assets/e0a40b30-4bb4-4609-9d86-f5e3270f8b35)


### 드롭다운 옵션 및 입력값
| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
|toggle|드롭다운 옵션|얼굴 찾기 결과|보이기(1), 숨기기(0)|

### 자바스크립트 코드
```javascript
// 상세하게 얼굴찾기 결과 보이기
$('DetailedFaceDetection*0:display').d = 1;

// 상세하게 얼굴찾기 결과 숨기기
$('DetailedFaceDetection*0:display').d = 0;
```

### 파이썬 코드
```python
# 상세하게 얼굴찾기 결과 보이기
__('DetailedFaceDetection*0:display').d = 1

# 상세하게 얼굴찾기 결과 숨기기
__('DetailedFaceDetection*0:display').d = 0
```

## 얼굴 데이터
얼굴찾기로 얻은 얼굴 데이터를 반환합니다.


![](https://github.com/user-attachments/assets/847e1df9-3586-47b9-8b65-78c68254d3e2)


| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
| part | 드롭다운 옵션 | 얼굴 부위 | 얼굴(face), 왼쪽 눈(eye.left), 오른쪽 눈(eye.right), 왼쪽 눈동자(pupil.left), 오른쪽 눈동자(pupil.right), 코(nose), 입(mouth), 왼쪽 입꼬리(lip.left), 오른쪽 입꼬리(lip.right), 윗 입술(lip.up), 아랫 입술(lip.down) |
| axis | 드롭다운 옵션 | 좌표 | x, y |

### 자바스크립트 코드
```javascript
// 얼굴 x 좌표
$('DetailedFaceDetection*0:face.x').d;

// 얼굴 y 좌표
$('DetailedFaceDetection*0:face.y').d;

// 왼쪽 눈 x 좌표
$('DetailedFaceDetection*0:eye.left.x').d;

// 왼쪽 눈 y 좌표
$('DetailedFaceDetection*0:eye.left.y').d;

// 오른쪽 눈 x 좌표
$('DetailedFaceDetection*0:eye.right.x').d;

// 오른쪽 눈 y 좌표
$('DetailedFaceDetection*0:eye.right.y').d;

// 왼쪽 눈동자 x 좌표
$('DetailedFaceDetection*0:pupil.left.x').d;

// 왼쪽 눈동자 y 좌표
$('DetailedFaceDetection*0:pupil.left.y').d;

// 오른쪽 눈동자 x 좌표
$('DetailedFaceDetection*0:pupil.right.x').d;

// 오른쪽 눈동자 y 좌표
$('DetailedFaceDetection*0:pupil.right.y').d;

// 코 x 좌표
$('DetailedFaceDetection*0:nose.x').d;

// 코 y 좌표
$('DetailedFaceDetection*0:nose.y').d;

// 입 x 좌표
$('DetailedFaceDetection*0:mouth.x').d;

// 입 y 좌표
$('DetailedFaceDetection*0:mouth.y').d;

// 왼쪽 입꼬리 x 좌표
$('DetailedFaceDetection*0:lip.left.x').d;

// 왼쪽 입꼬리 y 좌표
$('DetailedFaceDetection*0:lip.left.y').d;

// 오른쪽 입꼬리 x 좌표
$('DetailedFaceDetection*0:lip.right.x').d;

// 오른쪽 입꼬리 y 좌표
$('DetailedFaceDetection*0:lip.right.y').d;

// 윗 입술 x 좌표
$('DetailedFaceDetection*0:lip.up.x').d;

// 윗 입술 y 좌표
$('DetailedFaceDetection*0:lip.up.y').d;

// 아랫 입술 x 좌표
$('DetailedFaceDetection*0:lip.down.x').d;

// 아랫 입술 y 좌표
$('DetailedFaceDetection*0:lip.down.y').d;
```

### 파이썬 코드
```python
# 얼굴 x 좌표
__('DetailedFaceDetection*0:face.x').d

# 얼굴 y 좌표
__('DetailedFaceDetection*0:face.y').d

# 왼쪽 눈 x 좌표
__('DetailedFaceDetection*0:eye.left.x').d

# 왼쪽 눈 y 좌표
__('DetailedFaceDetection*0:eye.left.y').d

# 오른쪽 눈 x 좌표
__('DetailedFaceDetection*0:eye.right.x').d

# 오른쪽 눈 y 좌표
__('DetailedFaceDetection*0:eye.right.y').d

# 왼쪽 눈동자 x 좌표
__('DetailedFaceDetection*0:pupil.left.x').d

# 왼쪽 눈동자 y 좌표
__('DetailedFaceDetection*0:pupil.left.y').d

# 오른쪽 눈동자 x 좌표
__('DetailedFaceDetection*0:pupil.right.x').d

# 오른쪽 눈동자 y 좌표
__('DetailedFaceDetection*0:pupil.right.y').d

# 코 x 좌표
__('DetailedFaceDetection*0:nose.x').d

# 코 y 좌표
__('DetailedFaceDetection*0:nose.y').d

# 입 x 좌표
__('DetailedFaceDetection*0:mouth.x').d

# 입 y 좌표
__('DetailedFaceDetection*0:mouth.y').d

# 왼쪽 입꼬리 x 좌표
__('DetailedFaceDetection*0:lip.left.x').d

# 왼쪽 입꼬리 y 좌표
__('DetailedFaceDetection*0:lip.left.y').d

# 오른쪽 입꼬리 x 좌표
__('DetailedFaceDetection*0:lip.right.x').d

# 오른쪽 입꼬리 y 좌표
__('DetailedFaceDetection*0:lip.right.y').d

# 윗 입술 x 좌표
__('DetailedFaceDetection*0:lip.up.x').d

# 윗 입술 y 좌표
__('DetailedFaceDetection*0:lip.up.y').d

# 아랫 입술 x 좌표
__('DetailedFaceDetection*0:lip.down.x').d

# 아랫 입술 y 좌표
__('DetailedFaceDetection*0:lip.down.y').d
```

## 얼굴 주변 사각형 데이터
얼굴찾기로 찾은 얼굴의 주변을 사각형으로 정의하여, 그 사각형의 데이터를 반환합니다.


![](https://github.com/user-attachments/assets/fd7aff0e-c45e-47fa-be29-336720095923)


| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
| part | 드롭다운 옵션 | 얼굴 부위 | 얼굴(face), 왼쪽 눈(eye.left), 오른쪽 눈(eye.right), 입(mouth) |
| data | 드롭다운 옵션 | 얼굴 데이터 | x 좌표 최솟값(min_x), x 좌표 최댓값(max_x), y 좌표 최솟값(min_y), y 좌표 최댓값(max_y), 폭(width), 높이(height), 넓이(area) |

### 자바스크립트 코드
```javascript
// 얼굴 사각형 x 좌표 최솟값
$('DetailedFaceDetection*0:face.min_x').d;

// 얼굴 사각형 x 좌표 최댓값
$('DetailedFaceDetection*0:face.max_x').d;

// 얼굴 사각형 y 좌표 최솟값
$('DetailedFaceDetection*0:face.min_y').d;

// 얼굴 사각형 y 좌표 최댓값
$('DetailedFaceDetection*0:face.max_y').d;

// 얼굴 사각형 폭
$('DetailedFaceDetection*0:face.width').d;

// 얼굴 사각형 높이
$('DetailedFaceDetection*0:face.height').d;

// 얼굴 사각형 넓이
$('DetailedFaceDetection*0:face.area').d;

// 왼쪽 눈 사각형 x 좌표 최솟값
$('DetailedFaceDetection*0:eye.left.min_x').d;

// 오른쪽 눈 사각형 x 좌표 최솟값
$('DetailedFaceDetection*0:eye.right.min_x').d;

// 입 사각형 x 좌표 최솟값
$('DetailedFaceDetection*0:mouth.min_x').d;
```

### 파이썬 코드
```python
# 얼굴 사각형 x 좌표 최솟값
__('DetailedFaceDetection*0:face.min_x').d

# 얼굴 사각형 x 좌표 최댓값
__('DetailedFaceDetection*0:face.max_x').d

# 얼굴 사각형 y 좌표 최솟값
__('DetailedFaceDetection*0:face.min_y').d

# 얼굴 사각형 y 좌표 최댓값
__('DetailedFaceDetection*0:face.max_y').d

# 얼굴 사각형 폭
__('DetailedFaceDetection*0:face.width').d

# 얼굴 사각형 높이
__('DetailedFaceDetection*0:face.height').d

# 얼굴 사각형 넓이
__('DetailedFaceDetection*0:face.area').d

# 왼쪽 눈 사각형 x 좌표 최솟값
__('DetailedFaceDetection*0:eye.left.min_x').d

# 오른쪽 눈 사각형 x 좌표 최솟값
__('DetailedFaceDetection*0:eye.right.min_x').d

# 입 사각형 x 좌표 최솟값
__('DetailedFaceDetection*0:mouth.min_x').d
```

## 얼굴 요소 사이 거리
얼굴찾기로 찾은 얼굴의 데이터를 이용하여 두 얼굴 요소 사이의 거리를 반환합니다.


![](https://github.com/user-attachments/assets/1746e500-5772-4032-9550-0592f669a3cf)


| 이름 | 구분 | 설명 | 범위 / 종류 |  
| ------ | ------ | ------ | ------ |
| part 1 | 드롭다운 옵션 | 얼굴 부위 | 얼굴(face), 왼쪽 눈(eye.left), 오른쪽 눈(eye.right), 왼쪽 눈동자(pupil.left), 오른쪽 눈동자(pupil.right), 코(nose), 입(mouth), 왼쪽 입꼬리(lip.left), 오른쪽 입꼬리(lip.right), 윗 입술(lip.up), 아랫 입술(lip.down) |
| part 2 | 드롭다운 옵션 | 얼굴 부위 | 얼굴(face), 왼쪽 눈(eye.left), 오른쪽 눈(eye.right), 왼쪽 눈동자(pupil.left), 오른쪽 눈동자(pupil.right), 코(nose), 입(mouth), 왼쪽 입꼬리(lip.left), 오른쪽 입꼬리(lip.right), 윗 입술(lip.up), 아랫 입술(lip.down) |
| distance | 드롭다운 옵션 | 거리 | 거리(distance), 가로거리(horizontal distance), 세로거리(vertical distance) | 

### 자바스크립트 코드
```javascript
// 왼쪽 눈에서 왼쪽 눈 까지 거리
Math.sqrt( Math.pow(($('DetailedFaceDetection*0:eye.left.x').d - $('DetailedFaceDetection*0:eye.left.x').d), 2) + Math.pow(($('DetailedFaceDetection*0:eye.left.y').d - $('DetailedFaceDetection*0:eye.left.y').d), 2) );

// 왼쪽 눈에서 오른쪽 눈 까지 거리
Math.sqrt( Math.pow(($('DetailedFaceDetection*0:eye.right.x').d - $('DetailedFaceDetection*0:eye.left.x').d), 2) + Math.pow(($('DetailedFaceDetection*0:eye.right.y').d - $('DetailedFaceDetection*0:eye.left.y').d), 2) );

// 왼쪽 눈에서 왼쪽 눈동자 까지 가로 거리
Math.abs($('DetailedFaceDetection*0:pupil.left.x').d - $('DetailedFaceDetection*0:eye.left.x').d);

// 왼쪽 눈에서 오른쪽 눈동자 까지 가로 거리
Math.abs($('DetailedFaceDetection*0:pupil.right.x').d - $('DetailedFaceDetection*0:eye.left.x').d);

// 왼쪽 눈에서 코 까지 세로 거리
Math.abs($('DetailedFaceDetection*0:nose.y').d - $('DetailedFaceDetection*0:eye.left.y').d);

// 왼쪽 눈에서 입 까지 세로 거리
Math.abs($('DetailedFaceDetection*0:mouth.y').d - $('DetailedFaceDetection*0:eye.left.y').d);

// 왼쪽 눈에서 왼쪽 입꼬리 까지 거리
Math.sqrt( Math.pow(($('DetailedFaceDetection*0:lip.left.x').d - $('DetailedFaceDetection*0:eye.left.x').d), 2) + Math.pow(($('DetailedFaceDetection*0:lip.left.y').d - $('DetailedFaceDetection*0:eye.left.y').d), 2) );

// 왼쪽 눈에서 오른쪽 입꼬리 까지 거리
Math.sqrt( Math.pow(($('DetailedFaceDetection*0:lip.right.x').d - $('DetailedFaceDetection*0:eye.left.x').d), 2) + Math.pow(($('DetailedFaceDetection*0:lip.right.y').d - $('DetailedFaceDetection*0:eye.left.y').d), 2) );

// 왼쪽 눈에서 윗 입술 까지 거리
Math.sqrt( Math.pow(($('DetailedFaceDetection*0:lip.up.x').d - $('DetailedFaceDetection*0:eye.left.x').d), 2) + Math.pow(($('DetailedFaceDetection*0:lip.up.y').d - $('DetailedFaceDetection*0:eye.left.y').d), 2) );

// 왼쪽 눈에서 아랫 입술 까지 거리
Math.sqrt( Math.pow(($('DetailedFaceDetection*0:lip.down.x').d - $('DetailedFaceDetection*0:eye.left.x').d), 2) + Math.pow(($('DetailedFaceDetection*0:lip.down.y').d - $('DetailedFaceDetection*0:eye.left.y').d), 2) );

```

### 파이썬 코드
```python
# 왼쪽 눈에서 왼쪽 눈 까지 거리
math.sqrt( math.pow((__('DetailedFaceDetection*0:eye.left.x').d - __('DetailedFaceDetection*0:eye.left.x').d), 2) + math.pow((__('DetailedFaceDetection*0:eye.left.y').d - __('DetailedFaceDetection*0:eye.left.y').d), 2) )

# 왼쪽 눈에서 오른쪽 눈 까지 거리
math.sqrt( math.pow((__('DetailedFaceDetection*0:eye.right.x').d - __('DetailedFaceDetection*0:eye.left.x').d), 2) + math.pow((__('DetailedFaceDetection*0:eye.right.y').d - __('DetailedFaceDetection*0:eye.left.y').d), 2) )

# 왼쪽 눈에서 왼쪽 눈동자 까지 가로 거리
math.fabs(__('DetailedFaceDetection*0:pupil.left.x').d - __('DetailedFaceDetection*0:eye.left.x').d)

# 왼쪽 눈에서 오른쪽 눈동자 까지 가로 거리
math.fabs(__('DetailedFaceDetection*0:pupil.right.x').d - __('DetailedFaceDetection*0:eye.left.x').d)

# 왼쪽 눈에서 코 까지 세로 거리
math.fabs(__('DetailedFaceDetection*0:nose.y').d - __('DetailedFaceDetection*0:eye.left.y').d)

# 왼쪽 눈에서 입 까지 세로 거리
math.fabs(__('DetailedFaceDetection*0:mouth.y').d - __('DetailedFaceDetection*0:eye.left.y').d)

# 왼쪽 눈에서 왼쪽 입꼬리 까지 거리
math.sqrt( math.pow((__('DetailedFaceDetection*0:lip.left.x').d - __('DetailedFaceDetection*0:eye.left.x').d), 2) + math.pow((__('DetailedFaceDetection*0:lip.left.y').d - __('DetailedFaceDetection*0:eye.left.y').d), 2) )

# 왼쪽 눈에서 오른쪽 입꼬리 까지 거리
math.sqrt( math.pow((__('DetailedFaceDetection*0:lip.right.x').d - __('DetailedFaceDetection*0:eye.left.x').d), 2) + math.pow((__('DetailedFaceDetection*0:lip.right.y').d - __('DetailedFaceDetection*0:eye.left.y').d), 2) )

# 왼쪽 눈에서 윗 입술 까지 거리
math.sqrt( math.pow((__('DetailedFaceDetection*0:lip.up.x').d - __('DetailedFaceDetection*0:eye.left.x').d), 2) + math.pow((__('DetailedFaceDetection*0:lip.up.y').d - __('DetailedFaceDetection*0:eye.left.y').d), 2) )

# 왼쪽 눈에서 아랫 입술 까지 거리
math.sqrt( math.pow((__('DetailedFaceDetection*0:lip.down.x').d - __('DetailedFaceDetection*0:eye.left.x').d), 2) + math.pow((__('DetailedFaceDetection*0:lip.down.y').d - __('DetailedFaceDetection*0:eye.left.y').d), 2) )
```

## 얼굴 모델 로딩 상태값
얼굴 모델 로딩 상태를 반환합니다.  
아직 불러오지 않았다면 0, 불러오는 중이면 1, 불러오기를 완료했다면 2를 반환합니다.


![](https://github.com/user-attachments/assets/48c11310-8c2a-4133-9c25-80bdd9ba87f9)


### 자바스크립트 코드
```javascript
// 얼굴 모델 로딩 상태 값
$('DetailedFaceDetection*0:model_state').d;
```

### 파이썬 코드
```python
# 얼굴 모델 로딩 상태 값
__('DetailedFaceDetection*0:model_state').d
```

## 얼굴을 찾았는가?
얼굴 찾기 여부를 **참(1) / 거짓(0)** (으)로 반환합니다.

![](https://github.com/user-attachments/assets/47865c80-2779-4c7a-8308-6c382803425c)


### 자바스크립트 코드
```javascript
// 얼굴을 찾았는가?
$('DetailedFaceDetection*0:detected').d;
```

### 파이썬 코드
```python
# 얼굴을 찾았는가?
__('DetailedFaceDetection*0:detected').d
```